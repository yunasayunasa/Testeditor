
{
  "initialState": "Title",
  "states": {
    "Title": {
      "onEnter": [
        { "type": "transitionTo", "params": { "scene": "TitleScene" } }
      ],
      "transitions": [
        { 
          "event": "START_GAME", 
          "to": "InGame",
          "action": { 
            "type": "transitionTo", 
            "params": { "scene": "GameScene", "scenario": "test" }
          }
        }
      ]
    },
    "InGame": {
      "onEnter": [],
      "transitions": [
        { "event": "OPEN_PAUSE_MENU", "to": "Paused" },
          { "event": "RUN_NOVEL_OVERLAY", "to": "NovelOverlay" }
      ]
    },
    "Paused": {
      "onEnter": [
        { "type": "pauseScene" }
      ],
      "onExit": [
        { "type": "resumeScene" }
      ],
      "transitions": [
        { "event": "CLOSE_PAUSE_MENU", "to": "InGame" }
      ]
    },
    "NovelOverlay": {
      "comment": "背後のシーンを停止させ、ノベルパートをオーバーレイ表示している状態",
      "onEnter": [
        { "type": "stopTime" }, 
        { "type": "runNovelOverlay" } 
      ],
      "onExit": [
        { "type": "resumeTime" } 
      ],
      "transitions": [
        { "event": "END_NOVEL_OVERLAY", "to": "InGame" }
      ]
    },
  
    "GameOver": {
      "comment": "ゲームオーバー画面が表示されている状態。",
      "onEnter": [
        {
          "type": "transitionTo",
          "params": {
            "scene": "GameOverScene"
          }
        }
      ],
      "transitions": [
        { "event": "RESTART_GAME", "to": "InGame" },
        { "event": "RETURN_TO_TITLE", "to": "Title" }
      ]
    }
  }
}