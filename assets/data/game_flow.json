{
  "initialState": "Title",

  "states": {

    "Title": {
      "comment": "タイトル画面の状態。起動時にTitleSceneを開始する。",
      "onEnter": [
        {
          "action": "transitionTo",
          "params": { 
            "scene": "TitleScene"
          }
        }
      ],
      "transitions": [
        { "event": "START_GAME", "to": "InGame" }
      ]
    },

    "InGame": {
      "comment": "メインのゲームプレイ状態。GameSceneやJumpSceneなどがアクティブ。",
      "onEnter": [
        {
          "action": "transitionTo",
          "params": { 
            "scene": "GameScene",
            "scenario": "test"
          }
        }
      ],
      "onExit": [],
      "transitions": [
        { "event": "OPEN_PAUSE_MENU", "to": "Paused" },
        { "event": "GAME_OVER", "to": "GameOver" }
      ]
    },

    "Paused": {
      "comment": "ポーズメニューが開いている状態。背後のシーンはポーズされている。",
      "onEnter": [
        { 
          "action": "openMenuOverlay",
          "params": {
            "layout": "pause_menu"
          }
        }
      ],
      "onExit": [
        {
          "action": "closeOverlay"
        }
      ],
      "transitions": [
        { "event": "CLOSE_PAUSE_MENU", "to": "InGame" }
      ]
    },

    "GameOver": {
      "comment": "ゲームオーバー画面が表示されている状態。",
      "onEnter": [
        {
          "action": "transitionTo",
          "params": {
            "scene": "GameOverScene"
          }
        }
      ],
      "transitions": [
        { "event": "RESTART_GAME", "to": "InGame" },
        { "event": "RETURN_TO_TITLE", "to": "Title" }
      ]
    }
  }
}